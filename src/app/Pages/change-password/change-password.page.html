<ion-header>
  <ion-toolbar class="tool-one">
    <ion-title>VetCare App</ion-title>
    <ion-buttons class="setting" slot="end">
      <ion-icon name="settings-sharp"  routerLink="/tabs/settings"></ion-icon>
    </ion-buttons>
  </ion-toolbar>
  <ion-toolbar class="tool-two">
    <ion-title>Change Password</ion-title>
    <ion-buttons slot="start">
      <ion-icon class="back" name="arrow-back-outline" routerLink="/tabs/profile"></ion-icon>
    </ion-buttons>
  </ion-toolbar>
</ion-header>

<ion-content>
  <div class="content">
    <div class="ion-padding">
      <form [formGroup]="changePasswordForm" (ngSubmit)="submit()">
        <ion-list>
          <ion-item>
            <ion-input formControlName="oldPassword" [type]="showOldPassword ? 'text': 'password'" placeholder="Old Password"></ion-input>
            <ion-icon [name]="oldpasswordToggleIcon"  item-end (click)="toggleOldPassword()"></ion-icon>
          </ion-item>
          <div *ngFor="let error of errorMessages.oldPassword">
            <ng-container *ngIf="oldPassword.hasError(error.type) && (oldPassword.dirty || oldPassword.touched)">
              <small class="error-message">{{ error.message }}</small>
            </ng-container>
          </div>

          <ion-item>
            <ion-input formControlName="newPassword" [type]="showNewPassword ? 'text': 'password'" placeholder="New Password"></ion-input>
            <ion-icon [name]="newpasswordToggleIcon"  item-end (click)="toggleNewPassword()"></ion-icon>
          </ion-item>
          <div *ngFor="let error of errorMessages.newPassword">
            <ng-container *ngIf="newPassword.hasError(error.type) && (newPassword.dirty || newPassword.touched)">
              <small class="error-message">{{ error.message }}</small>
            </ng-container>
          </div>

          <ion-item>
            <ion-input formControlName="confirmPassword" [type]="showConfirmPassword ? 'text': 'password'" placeholder="Confirm Password"></ion-input>
            <ion-icon [name]="confirmpasswordToggleIcon"  item-end (click)="toggleConfirmPassword()"></ion-icon>
          </ion-item>
          <div *ngFor="let error of errorMessages.confirmPassword">
            <ng-container *ngIf="confirmPassword.hasError(error.type) && (confirmPassword.dirty || confirmPassword.touched)">
              <small class="error-message">{{ error.message }}</small>
            </ng-container>
          </div>

          <ion-button class="save" type="submit" expand="block" shape="round" [disabled]="!changePasswordForm.valid">Save Changes</ion-button>
        </ion-list>
      </form>
    </div>
  </div>
</ion-content>